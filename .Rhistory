knitr::opts_chunk$set(echo <- TRUE)
packages = c('tidyverse','leaflet', 'knitr','stringr')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
list.files("data/")
routes <- read_csv("data/routes.txt",trim_ws <- T)
stops <- read_csv("data/stops.txt",trim_ws <- T)
trips <- read_csv("data/trips.txt",trim_ws <- T)
transfers <- read_csv("data/transfers.txt",trim_ws <- T)
list.files("./data/")
routes <- read_csv("data/routes.txt",trim_ws <- T)
stops <- read_csv("data/stops.txt",trim_ws <- T)
trips <- read_csv("data/trips.txt",trim_ws <- T)
transfers <- read_csv("data/transfers.txt",trim_ws <- T)
agency <- read_csv("data/agency.txt",trim_ws <- T)
stoptime <- read_csv("data/stop_times.txt",trim_ws <- T)
kable(head(stops))
m = leaflet() %>%
# Add CartoDB background map
addProviderTiles("CartoDB.DarkMatter") %>%
# Add a marker for each stop
addCircleMarkers(lng= ~ stop_lon, lat= ~stop_lat, data = head(stops,10000),
stroke = FALSE, fillOpacity = 0.5, radius =5 )
m  # Show the map
knitr::opts_chunk$set(echo <- TRUE)
packages = c('tidyverse','leaflet', 'knitr','stringr')
for (p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
list.files("./data/")
routes <- read.csv("data/routes.txt",trim_ws <- T)
stops <- read.csv("data/stops.txt",trim_ws <- T)
trips <- read.csv("data/trips.txt",trim_ws <- T)
# transfers <- read_csv("data/transfers.txt",trim_ws <- T)
agency <- read.csv("data/agency.txt",trim_ws <- T)
stoptime <- read.csv("data/stop_times.txt",trim_ws <- T)
kable(head(stops))
m = leaflet() %>%
# Add CartoDB background map
addProviderTiles("CartoDB.DarkMatter") %>%
# Add a marker for each stop
addCircleMarkers(lng= ~ stop_lon, lat= ~stop_lat, data = head(stops,10000),
stroke = FALSE, fillOpacity = 0.5, radius =5 )
m  # Show the map
berlin_modes = data.frame(agency_id = c("BVB---", "BVF---", "BVT---" ,"BVU---", "DBS---", "SEV---"), mot = c("Bus", "Ferry", "Tram", "Subway", "Light Rail", "Replacement"))
berlin$agency_id = factor(berlin$agency_id)
